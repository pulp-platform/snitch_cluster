
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="data_utils.html">
      
      
        <link rel="next" href="sim_utils.html">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>verif_utils - Snitch Cluster</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e53b48f4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#verif_utils" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../index.html" title="Snitch Cluster" class="md-header__button md-logo" aria-label="Snitch Cluster" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Snitch Cluster
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              verif_utils
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/pulp-platform/snitch_cluster" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    pulp-platform/snitch_cluster
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../index.html" title="Snitch Cluster" class="md-nav__button md-logo" aria-label="Snitch Cluster" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Snitch Cluster
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pulp-platform/snitch_cluster" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    pulp-platform/snitch_cluster
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ug/getting_started.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ug/directory_structure.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Repository Structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ug/tutorial.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_2" >
        
          
          <label class="md-nav__link" for="__nav_2_3_2" id="__nav_2_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Advanced
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_2">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ug/trace_analysis.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Trace Analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ug/code_optimization.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Optimization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ug/system_integration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ug/documentation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference Manual
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Reference Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Hardware
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Hardware
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hw/snitch.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Snitch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_2" >
        
          
          <label class="md-nav__link" for="__nav_3_1_2" id="__nav_3_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Snitch Cluster
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            Snitch Cluster
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hw/snitch_cluster.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hw/peripherals.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Peripherals
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hw/reqrsp_interface.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reqrsp Interface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hw/custom_instructions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hw/boot_procedure.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Boot Procedure
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Software
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Software
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2_1" id="__nav_3_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Simulation Utilities
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2_1">
            <span class="md-nav__icon md-icon"></span>
            Simulation Utilities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="data_utils.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    data_utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    verif_utils
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="verif_utils.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    verif_utils
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#verif_utils" class="md-nav__link">
    <span class="md-ellipsis">
      verif_utils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verif_utils.Verifier" class="md-nav__link">
    <span class="md-ellipsis">
      Verifier
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Verifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.check_results" class="md-nav__link">
    <span class="md-ellipsis">
      check_results
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.get_actual_results" class="md-nav__link">
    <span class="md-ellipsis">
      get_actual_results
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.get_expected_results" class="md-nav__link">
    <span class="md-ellipsis">
      get_expected_results
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.get_input_from_symbol" class="md-nav__link">
    <span class="md-ellipsis">
      get_input_from_symbol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.get_output_from_symbol" class="md-nav__link">
    <span class="md-ellipsis">
      get_output_from_symbol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.get_output_memory_locations" class="md-nav__link">
    <span class="md-ellipsis">
      get_output_memory_locations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.parse_args" class="md-nav__link">
    <span class="md-ellipsis">
      parse_args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.parser" class="md-nav__link">
    <span class="md-ellipsis">
      parser
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.simulate" class="md-nav__link">
    <span class="md-ellipsis">
      simulate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verif_utils.dump_results_to_csv" class="md-nav__link">
    <span class="md-ellipsis">
      dump_results_to_csv
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sim_utils.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sim_utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Simulation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Simulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Simulator.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Simulator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Elf.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Elf
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Trace Utilities
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            Trace Utilities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trace/gen_trace.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    gen_trace.py
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trace/annotate.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    annotate.py
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trace/events.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    events.py
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
        
          
          <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Benchmarking Utilities
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            Benchmarking Utilities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bench/join.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    join.py
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bench/roi.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    roi.py
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bench/visualize.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    visualize.py
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4" >
        
          
          <label class="md-nav__link" for="__nav_3_2_4" id="__nav_3_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Experiment Utilities
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_4">
            <span class="md-nav__icon md-icon"></span>
            Experiment Utilities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/run.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    run.py
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/build.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    build.py
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../doxygen/html/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Snitch Runtime
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../publications.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Publications
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#verif_utils" class="md-nav__link">
    <span class="md-ellipsis">
      verif_utils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verif_utils.Verifier" class="md-nav__link">
    <span class="md-ellipsis">
      Verifier
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Verifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.check_results" class="md-nav__link">
    <span class="md-ellipsis">
      check_results
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.get_actual_results" class="md-nav__link">
    <span class="md-ellipsis">
      get_actual_results
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.get_expected_results" class="md-nav__link">
    <span class="md-ellipsis">
      get_expected_results
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.get_input_from_symbol" class="md-nav__link">
    <span class="md-ellipsis">
      get_input_from_symbol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.get_output_from_symbol" class="md-nav__link">
    <span class="md-ellipsis">
      get_output_from_symbol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.get_output_memory_locations" class="md-nav__link">
    <span class="md-ellipsis">
      get_output_memory_locations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.parse_args" class="md-nav__link">
    <span class="md-ellipsis">
      parse_args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.parser" class="md-nav__link">
    <span class="md-ellipsis">
      parser
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verif_utils.Verifier.simulate" class="md-nav__link">
    <span class="md-ellipsis">
      simulate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verif_utils.dump_results_to_csv" class="md-nav__link">
    <span class="md-ellipsis">
      dump_results_to_csv
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>verif_utils</h1>

<div class="doc doc-object doc-module">



<a id="verif_utils"></a>
    <div class="doc doc-contents first">

        <p>Convenience functions and classes for verification scripts.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="verif_utils.Verifier" class="doc doc-heading">
            <code>Verifier</code>


</h2>


    <div class="doc doc-contents ">


        <p>Base verifier class.</p>
<p>Base verifier class which can be inherited to easily develop a
custom verification script for any kernel.</p>
<p>Subclasses must override the <code>OUTPUT_UIDS</code> attribute and the
<a class="autorefs autorefs-internal" title="get_actual_results()" href="#verif_utils.Verifier.get_actual_results"><code>get_actual_results()</code></a>,
<a class="autorefs autorefs-internal" title="get_expected_results()" href="#verif_utils.Verifier.get_expected_results"><code>get_expected_results()</code></a>
and <a class="autorefs autorefs-internal" title="check_results(actual, expected, atol=None, rtol=None)" href="#verif_utils.Verifier.check_results"><code>check_results()</code></a> methods,
at a minimum. With respect to the latter, it suffices to invoke the
parent method with an explicit value for <code>rtol</code> or <code>atol</code>.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="verif_utils.Verifier.OUTPUT_UIDS">OUTPUT_UIDS</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of global symbols representing outputs of the
simulation. See
<a class="autorefs autorefs-internal" title="simulate()" href="#verif_utils.Verifier.simulate"><code>simulate()</code></a> method
for details on its use.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>util/sim/verif_utils.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Verifier</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base verifier class.</span>

<span class="sd">    Base verifier class which can be inherited to easily develop a</span>
<span class="sd">    custom verification script for any kernel.</span>

<span class="sd">    Subclasses must override the `OUTPUT_UIDS` attribute and the</span>
<span class="sd">    [`get_actual_results()`][verif_utils.Verifier.get_actual_results],</span>
<span class="sd">    [`get_expected_results()`][verif_utils.Verifier.get_expected_results]</span>
<span class="sd">    and [`check_results()`][verif_utils.Verifier.check_results] methods,</span>
<span class="sd">    at a minimum. With respect to the latter, it suffices to invoke the</span>
<span class="sd">    parent method with an explicit value for `rtol` or `atol`.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        OUTPUT_UIDS: A list of global symbols representing outputs of the</span>
<span class="sd">            simulation. See</span>
<span class="sd">            [`simulate()`][verif_utils.Verifier.simulate] method</span>
<span class="sd">            for details on its use.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">OUTPUT_UIDS</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">parser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Default argument parser for verification scripts.</span>

<span class="sd">        It is an instance of the `ArgumentParser` class from the `argparse`</span>
<span class="sd">        module. Subclasses can extend this and add custom arguments via</span>
<span class="sd">        the parser&#39;s `add_argument()` method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">allow_abbrev</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s1">&#39;sim_bin&#39;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s1">&#39;The simulator binary to be used to start the simulation&#39;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s1">&#39;snitch_bin&#39;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s1">&#39;The Snitch binary to be executed by the simulated Snitch hardware&#39;</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s1">&#39;--symbols-bin&#39;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s1">&#39;An optional binary containing the I/O symbols. By default, &#39;</span>
                 <span class="s1">&#39;these are searched for in snitch_bin. This argument serves as an &#39;</span>
                 <span class="s1">&#39;alternative.&#39;</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s1">&#39;--log&#39;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Redirect simulation output to this log file&#39;</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s1">&#39;--simulator&#39;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Specifies simulator&#39;</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s1">&#39;--dump-results&#39;</span><span class="p">,</span>
            <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Dump results even if the simulation does not fail&#39;</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s1">&#39;--no-ipc&#39;</span><span class="p">,</span>
            <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Do not use IPC interface&#39;</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s1">&#39;--memdump&#39;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s1">&#39;A file containing the memory contents at the end of the simulation&#39;</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s1">&#39;--memaddr&#39;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">help</span><span class="o">=</span><span class="s1">&#39;The start address of the memory dumped to the file specified by --memdump,&#39;</span>
                 <span class="s1">&#39; (e.g. 0x80000000 or 2147483648)&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">parser</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">parse_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse default verification script arguments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            args: The arguments passed to the verification script, parsed</span>
<span class="sd">                using the [`parser()`][verif_utils.Verifier.parser]</span>
<span class="sd">                method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="p">()</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Default constructor.</span>

<span class="sd">        Parses command-line arguments using the</span>
<span class="sd">        [`parse_args()`][verif_utils.Verifier.parse_args] method and</span>
<span class="sd">        stores them in `self.args` for use by other methods.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_output_memory_locations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get details on memory locations of output symbols.</span>

<span class="sd">        Returns a dictionary containing, for each output symbol, its</span>
<span class="sd">        start address and size in memory. This information is read from</span>
<span class="sd">        the binary provided on the command line.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Open binary where the output symbols are defined</span>
        <span class="n">symbols_bin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">symbols_bin</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">symbols_bin</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">snitch_bin</span>
        <span class="n">elf</span> <span class="o">=</span> <span class="n">Elf</span><span class="p">(</span><span class="n">symbols_bin</span><span class="p">)</span>

        <span class="c1"># Read the start address and size of each symbol in memory</span>
        <span class="n">output_memory_locations</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">uid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">OUTPUT_UIDS</span><span class="p">:</span>
            <span class="n">output_memory_locations</span><span class="p">[</span><span class="n">uid</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;address&#39;</span><span class="p">:</span> <span class="n">elf</span><span class="o">.</span><span class="n">get_symbol_address</span><span class="p">(</span><span class="n">uid</span><span class="p">),</span>
                <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="n">elf</span><span class="o">.</span><span class="n">get_symbol_size</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="n">output_memory_locations</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">simulate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Launch simulation and retrieve results.</span>

<span class="sd">        Spawns a subprocess to simulate the `snitch_bin` binary, using a</span>
<span class="sd">        command of the form `sim_bin snitch_bin &lt;ipc_args&gt;`. It</span>
<span class="sd">        communicates with the simulation using inter-process communication</span>
<span class="sd">        (IPC) facilities, to poll the program for termination and retrieve</span>
<span class="sd">        the memory contents where the results of the simulation are</span>
<span class="sd">        stored. The results of the simulation must have global symbols</span>
<span class="sd">        associated in `snitch_bin` in order to retrieve their address and</span>
<span class="sd">        size in memory from `snitch_bin`. Alternatively, if `symbols_bin`</span>
<span class="sd">        is given, the global symbols will be looked up in `symbols_bin`.</span>

<span class="sd">        It populates a dictionary, mapping UIDs, as listed in</span>
<span class="sd">        `OUTPUT_UIDS`, to their memory contents at the end of the</span>
<span class="sd">        simulation, formatted as raw bytes. The dictionary is stored in</span>
<span class="sd">        the `self.raw_outputs` attribute.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Open ELF file for processing</span>
        <span class="n">elf</span> <span class="o">=</span> <span class="n">Elf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">snitch_bin</span><span class="p">)</span>

        <span class="c1"># Start simulation</span>
        <span class="n">sim</span> <span class="o">=</span> <span class="n">SnitchSim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">sim_bin</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">snitch_bin</span><span class="p">,</span> <span class="n">simulator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">simulator</span><span class="p">,</span>
                        <span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">log</span><span class="p">)</span>
        <span class="n">sim</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="c1"># Wait for kernel execution to be over</span>
        <span class="n">tohost</span> <span class="o">=</span> <span class="n">elf</span><span class="o">.</span><span class="n">get_symbol_address</span><span class="p">(</span><span class="s1">&#39;tohost&#39;</span><span class="p">)</span>
        <span class="n">sim</span><span class="o">.</span><span class="n">poll</span><span class="p">(</span><span class="n">tohost</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Read out results from memory</span>
        <span class="n">output_locs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_output_memory_locations</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_outputs</span> <span class="o">=</span> <span class="p">{</span><span class="n">uid</span><span class="p">:</span> <span class="n">sim</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">],</span> <span class="n">loc</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">])</span>
                            <span class="k">for</span> <span class="n">uid</span><span class="p">,</span> <span class="n">loc</span> <span class="ow">in</span> <span class="n">output_locs</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

        <span class="c1"># Terminate</span>
        <span class="n">sim</span><span class="o">.</span><span class="n">finish</span><span class="p">(</span><span class="n">wait_for_sim</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">check_results</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">actual</span><span class="p">,</span> <span class="n">expected</span><span class="p">,</span> <span class="n">atol</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rtol</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the actual results are within the expected range.</span>

<span class="sd">        Args:</span>
<span class="sd">            expected: The expected results.</span>
<span class="sd">            actual: The actual results.</span>
<span class="sd">            atol: Absolute tolerance. The maximum absolute difference</span>
<span class="sd">                between the expected and actual results. Mutually</span>
<span class="sd">                exclusive with `rtol`.</span>
<span class="sd">            rtol: Relative tolerance. The maximum relative difference</span>
<span class="sd">                between the expected and actual results. Mutually</span>
<span class="sd">                exclusive with `atol`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            retcode: An exit code representing the status of the</span>
<span class="sd">                simulation: 1 if the simulation results do not match the</span>
<span class="sd">                expected results, 0 otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Compute absolute error</span>
        <span class="n">expected</span><span class="p">,</span> <span class="n">actual</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">flatten</span><span class="p">,</span> <span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">))</span>
        <span class="n">err</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">expected</span> <span class="o">-</span> <span class="n">actual</span><span class="p">)</span>
        <span class="c1"># Check absolute or relative error</span>
        <span class="k">if</span> <span class="n">atol</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">rtol</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;atol and rtol are mutually exclusive.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">atol</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">max_err</span> <span class="o">=</span> <span class="p">[</span><span class="n">atol</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">flatten</span><span class="p">(</span><span class="n">expected</span><span class="p">))</span>
            <span class="c1"># Handle FlexFloat arrays differently</span>
            <span class="k">if</span> <span class="n">expected</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
                <span class="n">success</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">err</span> <span class="o">&lt;=</span> <span class="n">max_err</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">success</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">,</span> <span class="n">atol</span><span class="o">=</span><span class="n">atol</span><span class="p">,</span> <span class="n">rtol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">equal_nan</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">rtol</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">max_err</span> <span class="o">=</span> <span class="n">rtol</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>
            <span class="c1"># Handle FlexFloat arrays differently</span>
            <span class="k">if</span> <span class="n">expected</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
                <span class="n">success</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">err</span> <span class="o">&lt;=</span> <span class="n">max_err</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">success</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">,</span> <span class="n">atol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rtol</span><span class="o">=</span><span class="n">rtol</span><span class="p">,</span> <span class="n">equal_nan</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Either atol or rtol must be specified.&#39;</span><span class="p">)</span>

        <span class="c1"># Dump results on failure or if requested</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">success</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">dump_results</span><span class="p">:</span>
            <span class="n">dump_results_to_csv</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="n">max_err</span><span class="p">,</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="s1">&#39;results.csv&#39;</span><span class="p">)</span>

        <span class="c1"># Return exit code</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="ow">not</span> <span class="n">success</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_actual_results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get actual simulation results.</span>

<span class="sd">        Subclasses should override this method to return the simulation</span>
<span class="sd">        results in a format comparable to the expected results.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_expected_results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get expected simulation results.</span>

<span class="sd">        Subclasses should override this method to return the expected</span>
<span class="sd">        results from the simulation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_input_from_symbol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the value of an input variable from its global symbol.</span>

<span class="sd">        Retrieves the contents of a global symbol from `snitch_bin`.</span>
<span class="sd">        Alternatively, if `symbols_bin` is provided, it looks up the</span>
<span class="sd">        symbol contents from there.</span>

<span class="sd">        Args:</span>
<span class="sd">            args: Positional arguments accepted by the</span>
<span class="sd">                [`from_symbol()`][Elf.Elf.from_symbol] method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">symbols_bin</span><span class="p">:</span>
            <span class="n">elf</span> <span class="o">=</span> <span class="n">Elf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">symbols_bin</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">elf</span> <span class="o">=</span> <span class="n">Elf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">snitch_bin</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">elf</span><span class="o">.</span><span class="n">from_symbol</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_output_from_symbol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">ctype</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the value of an output variable from its global symbol.</span>

<span class="sd">        Retrieves the value of a global symbol from the memory contents</span>
<span class="sd">        at the end of the simulation.</span>

<span class="sd">        Note:</span>
<span class="sd">            Calling this method before a call to the</span>
<span class="sd">            [`simulate()`][verif_utils.Verifier.simulate] method results in</span>
<span class="sd">            undefined behaviour.</span>

<span class="sd">        Args:</span>
<span class="sd">            uid: Global symbol to look up in memory.</span>
<span class="sd">            ctype: C type specifier used to interpret the data in memory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">from_buffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raw_outputs</span><span class="p">[</span><span class="n">uid</span><span class="p">],</span> <span class="n">ctype</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Default main function for data generation scripts.&quot;&quot;&quot;</span>
        <span class="c1"># If the testbench provides an IPC interface, run the simulation through the IPC</span>
        <span class="c1"># interface, populating `self.raw_outputs` from the simulation memory contents</span>
        <span class="c1"># at the end of the simulation. Otherwise, populate `self.raw_outputs` from a file</span>
        <span class="c1"># where the memory contents have been dumped by other means, e.g. by a pure</span>
        <span class="c1"># SystemVerilog testbench.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">no_ipc</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">memdump</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">memaddr</span><span class="p">:</span>
                <span class="c1"># Get memory locations where outputs are stored</span>
                <span class="n">output_locs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_output_memory_locations</span><span class="p">()</span>
                <span class="c1"># Read contents of those memory locations</span>
                <span class="n">dump</span> <span class="o">=</span> <span class="n">MemoryDumpReader</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">memdump</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">memaddr</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">raw_outputs</span> <span class="o">=</span> <span class="p">{</span><span class="n">uid</span><span class="p">:</span> <span class="n">dump</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">],</span> <span class="n">loc</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">])</span>
                                    <span class="k">for</span> <span class="n">uid</span><span class="p">,</span> <span class="n">loc</span> <span class="ow">in</span> <span class="n">output_locs</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;--memdump and --memaddr are required when --no-ipc is supplied&#39;</span><span class="p">)</span>

        <span class="c1"># Get actual and expected results</span>
        <span class="n">actual_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_actual_results</span><span class="p">()</span>
        <span class="n">expected_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_expected_results</span><span class="p">()</span>

        <span class="c1"># Compare actual and expected results</span>
        <span class="n">retcode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_results</span><span class="p">(</span><span class="n">actual_results</span><span class="p">,</span> <span class="n">expected_results</span><span class="p">)</span>

        <span class="c1"># Verify that overriden check_results() method returns an exit code</span>
        <span class="k">if</span> <span class="n">retcode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">retcode</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;check_results() method must return an exit code&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="verif_utils.Verifier.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Default constructor.</p>
<p>Parses command-line arguments using the
<a class="autorefs autorefs-internal" title="parse_args()" href="#verif_utils.Verifier.parse_args"><code>parse_args()</code></a> method and
stores them in <code>self.args</code> for use by other methods.</p>


            <details class="quote">
              <summary>Source code in <code>util/sim/verif_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Default constructor.</span>

<span class="sd">    Parses command-line arguments using the</span>
<span class="sd">    [`parse_args()`][verif_utils.Verifier.parse_args] method and</span>
<span class="sd">    stores them in `self.args` for use by other methods.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="verif_utils.Verifier.check_results" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_results</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span> <span class="n">expected</span><span class="p">,</span> <span class="n">atol</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rtol</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the actual results are within the expected range.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>expected</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The expected results.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>actual</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The actual results.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>atol</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Absolute tolerance. The maximum absolute difference
between the expected and actual results. Mutually
exclusive with <code>rtol</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>rtol</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Relative tolerance. The maximum relative difference
between the expected and actual results. Mutually
exclusive with <code>atol</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>retcode</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An exit code representing the status of the
simulation: 1 if the simulation results do not match the
expected results, 0 otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>util/sim/verif_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">check_results</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">actual</span><span class="p">,</span> <span class="n">expected</span><span class="p">,</span> <span class="n">atol</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rtol</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the actual results are within the expected range.</span>

<span class="sd">    Args:</span>
<span class="sd">        expected: The expected results.</span>
<span class="sd">        actual: The actual results.</span>
<span class="sd">        atol: Absolute tolerance. The maximum absolute difference</span>
<span class="sd">            between the expected and actual results. Mutually</span>
<span class="sd">            exclusive with `rtol`.</span>
<span class="sd">        rtol: Relative tolerance. The maximum relative difference</span>
<span class="sd">            between the expected and actual results. Mutually</span>
<span class="sd">            exclusive with `atol`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        retcode: An exit code representing the status of the</span>
<span class="sd">            simulation: 1 if the simulation results do not match the</span>
<span class="sd">            expected results, 0 otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Compute absolute error</span>
    <span class="n">expected</span><span class="p">,</span> <span class="n">actual</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">flatten</span><span class="p">,</span> <span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">))</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">expected</span> <span class="o">-</span> <span class="n">actual</span><span class="p">)</span>
    <span class="c1"># Check absolute or relative error</span>
    <span class="k">if</span> <span class="n">atol</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">rtol</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;atol and rtol are mutually exclusive.&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">atol</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">max_err</span> <span class="o">=</span> <span class="p">[</span><span class="n">atol</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">flatten</span><span class="p">(</span><span class="n">expected</span><span class="p">))</span>
        <span class="c1"># Handle FlexFloat arrays differently</span>
        <span class="k">if</span> <span class="n">expected</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
            <span class="n">success</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">err</span> <span class="o">&lt;=</span> <span class="n">max_err</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">success</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">,</span> <span class="n">atol</span><span class="o">=</span><span class="n">atol</span><span class="p">,</span> <span class="n">rtol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">equal_nan</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">rtol</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">max_err</span> <span class="o">=</span> <span class="n">rtol</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>
        <span class="c1"># Handle FlexFloat arrays differently</span>
        <span class="k">if</span> <span class="n">expected</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
            <span class="n">success</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">err</span> <span class="o">&lt;=</span> <span class="n">max_err</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">success</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">,</span> <span class="n">atol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rtol</span><span class="o">=</span><span class="n">rtol</span><span class="p">,</span> <span class="n">equal_nan</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Either atol or rtol must be specified.&#39;</span><span class="p">)</span>

    <span class="c1"># Dump results on failure or if requested</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">success</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">dump_results</span><span class="p">:</span>
        <span class="n">dump_results_to_csv</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="n">max_err</span><span class="p">,</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="s1">&#39;results.csv&#39;</span><span class="p">)</span>

    <span class="c1"># Return exit code</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="ow">not</span> <span class="n">success</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="verif_utils.Verifier.get_actual_results" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_actual_results</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get actual simulation results.</p>
<p>Subclasses should override this method to return the simulation
results in a format comparable to the expected results.</p>


            <details class="quote">
              <summary>Source code in <code>util/sim/verif_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_actual_results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get actual simulation results.</span>

<span class="sd">    Subclasses should override this method to return the simulation</span>
<span class="sd">    results in a format comparable to the expected results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="verif_utils.Verifier.get_expected_results" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_expected_results</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get expected simulation results.</p>
<p>Subclasses should override this method to return the expected
results from the simulation.</p>


            <details class="quote">
              <summary>Source code in <code>util/sim/verif_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_expected_results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get expected simulation results.</span>

<span class="sd">    Subclasses should override this method to return the expected</span>
<span class="sd">    results from the simulation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="verif_utils.Verifier.get_input_from_symbol" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_input_from_symbol</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the value of an input variable from its global symbol.</p>
<p>Retrieves the contents of a global symbol from <code>snitch_bin</code>.
Alternatively, if <code>symbols_bin</code> is provided, it looks up the
symbol contents from there.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>args</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Positional arguments accepted by the
<a class="autorefs autorefs-internal" title="from_symbol(uid, ctype)" href="Elf.html#Elf.Elf.from_symbol"><code>from_symbol()</code></a> method.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>util/sim/verif_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_input_from_symbol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the value of an input variable from its global symbol.</span>

<span class="sd">    Retrieves the contents of a global symbol from `snitch_bin`.</span>
<span class="sd">    Alternatively, if `symbols_bin` is provided, it looks up the</span>
<span class="sd">    symbol contents from there.</span>

<span class="sd">    Args:</span>
<span class="sd">        args: Positional arguments accepted by the</span>
<span class="sd">            [`from_symbol()`][Elf.Elf.from_symbol] method.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">symbols_bin</span><span class="p">:</span>
        <span class="n">elf</span> <span class="o">=</span> <span class="n">Elf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">symbols_bin</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">elf</span> <span class="o">=</span> <span class="n">Elf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">snitch_bin</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">elf</span><span class="o">.</span><span class="n">from_symbol</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="verif_utils.Verifier.get_output_from_symbol" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_output_from_symbol</span><span class="p">(</span><span class="n">uid</span><span class="p">,</span> <span class="n">ctype</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the value of an output variable from its global symbol.</p>
<p>Retrieves the value of a global symbol from the memory contents
at the end of the simulation.</p>


<details class="note" open>
  <summary>Note</summary>
  <p>Calling this method before a call to the
<a class="autorefs autorefs-internal" title="simulate()" href="#verif_utils.Verifier.simulate"><code>simulate()</code></a> method results in
undefined behaviour.</p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>uid</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Global symbol to look up in memory.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ctype</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>C type specifier used to interpret the data in memory.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>util/sim/verif_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_output_from_symbol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">ctype</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the value of an output variable from its global symbol.</span>

<span class="sd">    Retrieves the value of a global symbol from the memory contents</span>
<span class="sd">    at the end of the simulation.</span>

<span class="sd">    Note:</span>
<span class="sd">        Calling this method before a call to the</span>
<span class="sd">        [`simulate()`][verif_utils.Verifier.simulate] method results in</span>
<span class="sd">        undefined behaviour.</span>

<span class="sd">    Args:</span>
<span class="sd">        uid: Global symbol to look up in memory.</span>
<span class="sd">        ctype: C type specifier used to interpret the data in memory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">from_buffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raw_outputs</span><span class="p">[</span><span class="n">uid</span><span class="p">],</span> <span class="n">ctype</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="verif_utils.Verifier.get_output_memory_locations" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_output_memory_locations</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get details on memory locations of output symbols.</p>
<p>Returns a dictionary containing, for each output symbol, its
start address and size in memory. This information is read from
the binary provided on the command line.</p>


            <details class="quote">
              <summary>Source code in <code>util/sim/verif_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_output_memory_locations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get details on memory locations of output symbols.</span>

<span class="sd">    Returns a dictionary containing, for each output symbol, its</span>
<span class="sd">    start address and size in memory. This information is read from</span>
<span class="sd">    the binary provided on the command line.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Open binary where the output symbols are defined</span>
    <span class="n">symbols_bin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">symbols_bin</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">symbols_bin</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">snitch_bin</span>
    <span class="n">elf</span> <span class="o">=</span> <span class="n">Elf</span><span class="p">(</span><span class="n">symbols_bin</span><span class="p">)</span>

    <span class="c1"># Read the start address and size of each symbol in memory</span>
    <span class="n">output_memory_locations</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">uid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">OUTPUT_UIDS</span><span class="p">:</span>
        <span class="n">output_memory_locations</span><span class="p">[</span><span class="n">uid</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;address&#39;</span><span class="p">:</span> <span class="n">elf</span><span class="o">.</span><span class="n">get_symbol_address</span><span class="p">(</span><span class="n">uid</span><span class="p">),</span>
            <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="n">elf</span><span class="o">.</span><span class="n">get_symbol_size</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="k">return</span> <span class="n">output_memory_locations</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="verif_utils.Verifier.main" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">main</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Default main function for data generation scripts.</p>


            <details class="quote">
              <summary>Source code in <code>util/sim/verif_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Default main function for data generation scripts.&quot;&quot;&quot;</span>
    <span class="c1"># If the testbench provides an IPC interface, run the simulation through the IPC</span>
    <span class="c1"># interface, populating `self.raw_outputs` from the simulation memory contents</span>
    <span class="c1"># at the end of the simulation. Otherwise, populate `self.raw_outputs` from a file</span>
    <span class="c1"># where the memory contents have been dumped by other means, e.g. by a pure</span>
    <span class="c1"># SystemVerilog testbench.</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">no_ipc</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">memdump</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">memaddr</span><span class="p">:</span>
            <span class="c1"># Get memory locations where outputs are stored</span>
            <span class="n">output_locs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_output_memory_locations</span><span class="p">()</span>
            <span class="c1"># Read contents of those memory locations</span>
            <span class="n">dump</span> <span class="o">=</span> <span class="n">MemoryDumpReader</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">memdump</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">memaddr</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">raw_outputs</span> <span class="o">=</span> <span class="p">{</span><span class="n">uid</span><span class="p">:</span> <span class="n">dump</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">],</span> <span class="n">loc</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">])</span>
                                <span class="k">for</span> <span class="n">uid</span><span class="p">,</span> <span class="n">loc</span> <span class="ow">in</span> <span class="n">output_locs</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;--memdump and --memaddr are required when --no-ipc is supplied&#39;</span><span class="p">)</span>

    <span class="c1"># Get actual and expected results</span>
    <span class="n">actual_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_actual_results</span><span class="p">()</span>
    <span class="n">expected_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_expected_results</span><span class="p">()</span>

    <span class="c1"># Compare actual and expected results</span>
    <span class="n">retcode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_results</span><span class="p">(</span><span class="n">actual_results</span><span class="p">,</span> <span class="n">expected_results</span><span class="p">)</span>

    <span class="c1"># Verify that overriden check_results() method returns an exit code</span>
    <span class="k">if</span> <span class="n">retcode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">retcode</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;check_results() method must return an exit code&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="verif_utils.Verifier.parse_args" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_args</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Parse default verification script arguments.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>args</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The arguments passed to the verification script, parsed
using the <a class="autorefs autorefs-internal" title="parser()" href="#verif_utils.Verifier.parser"><code>parser()</code></a>
method.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>util/sim/verif_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">parse_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse default verification script arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        args: The arguments passed to the verification script, parsed</span>
<span class="sd">            using the [`parser()`][verif_utils.Verifier.parser]</span>
<span class="sd">            method.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="p">()</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="verif_utils.Verifier.parser" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parser</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Default argument parser for verification scripts.</p>
<p>It is an instance of the <code>ArgumentParser</code> class from the <code>argparse</code>
module. Subclasses can extend this and add custom arguments via
the parser's <code>add_argument()</code> method.</p>


            <details class="quote">
              <summary>Source code in <code>util/sim/verif_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">parser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Default argument parser for verification scripts.</span>

<span class="sd">    It is an instance of the `ArgumentParser` class from the `argparse`</span>
<span class="sd">    module. Subclasses can extend this and add custom arguments via</span>
<span class="sd">    the parser&#39;s `add_argument()` method.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">allow_abbrev</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s1">&#39;sim_bin&#39;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;The simulator binary to be used to start the simulation&#39;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s1">&#39;snitch_bin&#39;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;The Snitch binary to be executed by the simulated Snitch hardware&#39;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s1">&#39;--symbols-bin&#39;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;An optional binary containing the I/O symbols. By default, &#39;</span>
             <span class="s1">&#39;these are searched for in snitch_bin. This argument serves as an &#39;</span>
             <span class="s1">&#39;alternative.&#39;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s1">&#39;--log&#39;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Redirect simulation output to this log file&#39;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s1">&#39;--simulator&#39;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Specifies simulator&#39;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s1">&#39;--dump-results&#39;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Dump results even if the simulation does not fail&#39;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s1">&#39;--no-ipc&#39;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Do not use IPC interface&#39;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s1">&#39;--memdump&#39;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;A file containing the memory contents at the end of the simulation&#39;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s1">&#39;--memaddr&#39;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;The start address of the memory dumped to the file specified by --memdump,&#39;</span>
             <span class="s1">&#39; (e.g. 0x80000000 or 2147483648)&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parser</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="verif_utils.Verifier.simulate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">simulate</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Launch simulation and retrieve results.</p>
<p>Spawns a subprocess to simulate the <code>snitch_bin</code> binary, using a
command of the form <code>sim_bin snitch_bin &lt;ipc_args&gt;</code>. It
communicates with the simulation using inter-process communication
(IPC) facilities, to poll the program for termination and retrieve
the memory contents where the results of the simulation are
stored. The results of the simulation must have global symbols
associated in <code>snitch_bin</code> in order to retrieve their address and
size in memory from <code>snitch_bin</code>. Alternatively, if <code>symbols_bin</code>
is given, the global symbols will be looked up in <code>symbols_bin</code>.</p>
<p>It populates a dictionary, mapping UIDs, as listed in
<code>OUTPUT_UIDS</code>, to their memory contents at the end of the
simulation, formatted as raw bytes. The dictionary is stored in
the <code>self.raw_outputs</code> attribute.</p>


            <details class="quote">
              <summary>Source code in <code>util/sim/verif_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">simulate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Launch simulation and retrieve results.</span>

<span class="sd">    Spawns a subprocess to simulate the `snitch_bin` binary, using a</span>
<span class="sd">    command of the form `sim_bin snitch_bin &lt;ipc_args&gt;`. It</span>
<span class="sd">    communicates with the simulation using inter-process communication</span>
<span class="sd">    (IPC) facilities, to poll the program for termination and retrieve</span>
<span class="sd">    the memory contents where the results of the simulation are</span>
<span class="sd">    stored. The results of the simulation must have global symbols</span>
<span class="sd">    associated in `snitch_bin` in order to retrieve their address and</span>
<span class="sd">    size in memory from `snitch_bin`. Alternatively, if `symbols_bin`</span>
<span class="sd">    is given, the global symbols will be looked up in `symbols_bin`.</span>

<span class="sd">    It populates a dictionary, mapping UIDs, as listed in</span>
<span class="sd">    `OUTPUT_UIDS`, to their memory contents at the end of the</span>
<span class="sd">    simulation, formatted as raw bytes. The dictionary is stored in</span>
<span class="sd">    the `self.raw_outputs` attribute.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Open ELF file for processing</span>
    <span class="n">elf</span> <span class="o">=</span> <span class="n">Elf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">snitch_bin</span><span class="p">)</span>

    <span class="c1"># Start simulation</span>
    <span class="n">sim</span> <span class="o">=</span> <span class="n">SnitchSim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">sim_bin</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">snitch_bin</span><span class="p">,</span> <span class="n">simulator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">simulator</span><span class="p">,</span>
                    <span class="n">log</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">log</span><span class="p">)</span>
    <span class="n">sim</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="c1"># Wait for kernel execution to be over</span>
    <span class="n">tohost</span> <span class="o">=</span> <span class="n">elf</span><span class="o">.</span><span class="n">get_symbol_address</span><span class="p">(</span><span class="s1">&#39;tohost&#39;</span><span class="p">)</span>
    <span class="n">sim</span><span class="o">.</span><span class="n">poll</span><span class="p">(</span><span class="n">tohost</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="c1"># Read out results from memory</span>
    <span class="n">output_locs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_output_memory_locations</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">raw_outputs</span> <span class="o">=</span> <span class="p">{</span><span class="n">uid</span><span class="p">:</span> <span class="n">sim</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">],</span> <span class="n">loc</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">])</span>
                        <span class="k">for</span> <span class="n">uid</span><span class="p">,</span> <span class="n">loc</span> <span class="ow">in</span> <span class="n">output_locs</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

    <span class="c1"># Terminate</span>
    <span class="n">sim</span><span class="o">.</span><span class="n">finish</span><span class="p">(</span><span class="n">wait_for_sim</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="verif_utils.dump_results_to_csv" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">dump_results_to_csv</span><span class="p">(</span><span class="n">expected_results</span><span class="p">,</span> <span class="n">actual_results</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">max_error</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Dumps results and errors to a CSV file.</p>
<p>Takes a set of arrays (of the same shape or, at least, same flattened
size), flattens them, and dumps them to a CSV file. Each array is
mapped to a different column of the CSV, in the same order as they
appear as arguments in the function signature.
Also dumps an additional column, indicating pass (or failure) status,
calculated as <code>error &lt;= max_error</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>expected_results</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Array of expected results.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>actual_results</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Array of actual results.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>error</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Array with the absolute error
<code>abs(expected_results - actual_results)</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_error</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Array with the maximum allowed error per element.
Can also be a function of <code>expected_results</code> e.g. to
implement relative error checks.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path of the output CSV file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>util/sim/verif_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dump_results_to_csv</span><span class="p">(</span><span class="n">expected_results</span><span class="p">,</span> <span class="n">actual_results</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">max_error</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dumps results and errors to a CSV file.</span>

<span class="sd">    Takes a set of arrays (of the same shape or, at least, same flattened</span>
<span class="sd">    size), flattens them, and dumps them to a CSV file. Each array is</span>
<span class="sd">    mapped to a different column of the CSV, in the same order as they</span>
<span class="sd">    appear as arguments in the function signature.</span>
<span class="sd">    Also dumps an additional column, indicating pass (or failure) status,</span>
<span class="sd">    calculated as `error &lt;= max_error`.</span>

<span class="sd">    Args:</span>
<span class="sd">        expected_results: Array of expected results.</span>
<span class="sd">        actual_results: Array of actual results.</span>
<span class="sd">        error: Array with the absolute error</span>
<span class="sd">            `abs(expected_results - actual_results)`.</span>
<span class="sd">        max_error: Array with the maximum allowed error per element.</span>
<span class="sd">            Can also be a function of `expected_results` e.g. to</span>
<span class="sd">            implement relative error checks.</span>
<span class="sd">        path: Path of the output CSV file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Flatten and zip arrays</span>
    <span class="n">arrays</span> <span class="o">=</span> <span class="p">(</span><span class="n">expected_results</span><span class="p">,</span> <span class="n">actual_results</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">max_error</span><span class="p">)</span>
    <span class="n">flattened</span> <span class="o">=</span> <span class="p">[</span><span class="n">flatten</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="k">for</span> <span class="n">arr</span> <span class="ow">in</span> <span class="n">arrays</span><span class="p">]</span>
    <span class="n">flattened</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">flattened</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">flattened</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">))</span>
    <span class="n">zipped</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">(</span><span class="n">flattened</span><span class="p">)</span>
    <span class="c1"># Write row-by-row to CSV file</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csv_file</span><span class="p">:</span>
        <span class="n">csv_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">csv_file</span><span class="p">)</span>
        <span class="n">csv_writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="s1">&#39;expected&#39;</span><span class="p">,</span> <span class="s1">&#39;actual&#39;</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;max_error&#39;</span><span class="p">,</span> <span class="s1">&#39;pass&#39;</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">zipped</span><span class="p">:</span>
            <span class="n">csv_writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
    <span class="c1"># Print path where results were written</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Wrote results to </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>